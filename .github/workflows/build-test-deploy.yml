name: build test deploy
on: push
jobs:
 build:
   runs-on: ubuntu-latest
   steps: 
    - name: checkout repo
      uses: actions/checkout@v3
    - name: use node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18.x'
    - run: npm install
      name: npm intsall
    - run: if [ ! -f .eslintrc.json ]; then echo '{}' > .eslintrc.json; fi
    - run: npm test
    - run: npm run build
      name: npm build

 test:
  needs: build
  runs-on: ubuntu-latest
  steps: 
   - name: checkout repo
     uses: actions/checkout@v3
   - name: use node.js
     uses: actions/setup-node@v3
     with:
      node-version: '18.x'
   - run: npm install
     name: npm install
   - run: npm run test
     name: npm test
